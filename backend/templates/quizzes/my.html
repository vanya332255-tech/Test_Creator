{% extends "base.html" %}
{% block title %}–ú–æ—ó —Ç–µ—Å—Ç–∏ - TestingApp{% endblock %}
{% block content %}
<div class="hero">
    <h1>üìä –ú–æ—ó —Ç–µ—Å—Ç–∏</h1>
    <p>–ö–µ—Ä—É–π —Å–≤–æ—ó–º–∏ —Ç–µ—Å—Ç–∞–º–∏ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</p>
</div>

{% if items %}
    <div class="quiz-list">
        {% for quiz in items %}
            <div class="quiz-item">
                <h3>{{ quiz.title }}</h3>
                <p>–ü–∏—Ç–∞–Ω–Ω—è: {{ quiz.questions|length }} | 
                   {% if quiz.is_published %}
                       <span class="status-published">–û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ</span>
                   {% else %}
                       <span class="status-draft">–ß–µ—Ä–Ω–µ—Ç–∫–∞</span>
                   {% endif %}
                </p>
                <div class="quiz-meta">
                    <span>–°—Ç–≤–æ—Ä–µ–Ω–æ: {{ quiz.created_at.strftime('%d.%m.%Y %H:%M') }}</span>
                    {% if quiz.is_published %}
                        <span class="quiz-code">–ö–æ–¥: {{ quiz.code }}</span>
                    {% endif %}
                </div>
                <div class="d-flex gap-2 mt-3">
                    <a href="{{ url_for('quizzes.edit_quiz', quiz_id=quiz.id) }}" class="btn btn-primary btn-sm">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a>
                    <a href="{{ url_for('quizzes.results', quiz_id=quiz.id) }}" class="btn btn-success btn-sm">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</a>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <h3>–£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î —Ç–µ—Å—Ç—ñ–≤</h3>
        <p>–°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π –ø–µ—Ä—à–∏–π —Ç–µ—Å—Ç —Ç–∞ –ø–æ—á–Ω—ñ—Ç—å –¥—ñ–ª–∏—Ç–∏—Å—è –∑–Ω–∞–Ω–Ω—è–º–∏</p>
        <a href="{{ url_for('quizzes.new_quiz') }}" class="btn btn-primary">–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç</a>
    </div>
{% endif %}
{% endblock %}